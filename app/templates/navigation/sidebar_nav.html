<!-- Navegação lateral para módulos -->
{% macro render_sidebar_nav(current_module, current_page=None) %}
<div class="sidebar-nav">
    {% if current_module == 'piscina' %}
        <!-- Navegação do Módulo Piscina -->
        <div class="nav-section">
            <div class="nav-header">
                <i class="fas fa-swimming-pool nav-icon text-info"></i>
                <span class="nav-title">Controle de Piscina</span>
            </div>
            <ul class="nav-menu">
                <li class="nav-item {{ 'active' if current_page == 'moradores' else '' }}">
                    <a href="{{ url_for('main.listar_moradores') }}" class="nav-link">
                        <i class="fas fa-users nav-link-icon"></i>
                        <span class="nav-link-text">Moradores</span>
                    </a>
                </li>
                <li class="nav-item {{ 'active' if current_page == 'carteirinhas' else '' }}">
                    <a href="{{ url_for('main.gerar_carteirinhas_lote') }}" class="nav-link">
                        <i class="fas fa-id-card nav-link-icon"></i>
                        <span class="nav-link-text">Carteirinhas</span>
                    </a>
                </li>
                <li class="nav-item {{ 'active' if current_page == 'scanner' else '' }}">
                    <a href="{{ url_for('main.acesso_qrcode') }}" class="nav-link">
                        <i class="fas fa-qrcode nav-link-icon"></i>
                        <span class="nav-link-text">Scanner QR</span>
                    </a>
                </li>
                <li class="nav-item {{ 'active' if current_page == 'controle' else '' }}">
                    <a href="{{ url_for('main.controle_acesso') }}" class="nav-link">
                        <i class="fas fa-eye nav-link-icon"></i>
                        <span class="nav-link-text">Controle de Acesso</span>
                    </a>
                </li>
                <li class="nav-item {{ 'active' if current_page == 'salva_vidas' else '' }}">
                    <a href="{{ url_for('main.listar_salva_vidas') }}" class="nav-link">
                        <i class="fas fa-life-ring nav-link-icon"></i>
                        <span class="nav-link-text">Salva-vidas</span>
                    </a>
                </li>
                <li class="nav-item {{ 'active' if current_page == 'historico' else '' }}">
                    <a href="{{ url_for('main.historico_acesso') }}" class="nav-link">
                        <i class="fas fa-history nav-link-icon"></i>
                        <span class="nav-link-text">Histórico</span>
                    </a>
                </li>
                <li class="nav-item {{ 'active' if current_page == 'historico_unidade' else '' }}">
                    <a href="{{ url_for('main.historico_por_unidade') }}" class="nav-link">
                        <i class="fas fa-building nav-link-icon"></i>
                        <span class="nav-link-text">Histórico por Unidade</span>
                    </a>
                </li>
            </ul>
        </div>

    {% elif current_module == 'manutencao' %}
        <!-- Navegação do Módulo Manutenção -->
        <div class="nav-section">
            <div class="nav-header">
                <i class="fas fa-tools nav-icon text-success"></i>
                <span class="nav-title">Manutenção & Chamados</span>
            </div>
            <ul class="nav-menu">
                <li class="nav-item {{ 'active' if current_page == 'dashboard' else '' }}">
                    <a href="{{ url_for('manutencao.dashboard') }}" class="nav-link">
                        <i class="fas fa-chart-bar nav-link-icon"></i>
                        <span class="nav-link-text">Dashboard</span>
                    </a>
                </li>
                <li class="nav-item {{ 'active' if current_page == 'chamados' else '' }}">
                    <a href="{{ url_for('manutencao.listar_chamados') }}" class="nav-link">
                        <i class="fas fa-list nav-link-icon"></i>
                        <span class="nav-link-text">Listar Chamados</span>
                    </a>
                </li>
                <li class="nav-item {{ 'active' if current_page == 'novo' else '' }}">
                    <a href="{{ url_for('manutencao.novo_chamado') }}" class="nav-link">
                        <i class="fas fa-plus nav-link-icon"></i>
                        <span class="nav-link-text">Novo Chamado</span>
                    </a>
                </li>
                <li class="nav-item {{ 'active' if current_page == 'categorias' else '' }}">
                    <a href="{{ url_for('manutencao.categorias') }}" class="nav-link">
                        <i class="fas fa-tags nav-link-icon"></i>
                        <span class="nav-link-text">Categorias</span>
                    </a>
                </li>
                <li class="nav-item {{ 'active' if current_page == 'relatorios' else '' }}">
                    <a href="{{ url_for('manutencao.relatorios') }}" class="nav-link">
                        <i class="fas fa-chart-line nav-link-icon"></i>
                        <span class="nav-link-text">Relatórios</span>
                    </a>
                </li>
            </ul>
        </div>

    {% elif current_module == 'admin' %}
        <!-- Navegação do Módulo Admin -->
        <div class="nav-section">
            <div class="nav-header">
                <i class="fas fa-crown nav-icon"></i>
                <span class="nav-title">Administração</span>
            </div>
            <ul class="nav-menu">
                <li class="nav-item {{ 'active' if current_page == 'dashboard' else '' }}">
                    <a href="{{ url_for('admin.dashboard') }}" class="nav-link">
                        <i class="fas fa-tachometer-alt nav-link-icon"></i>
                        <span class="nav-link-text">Dashboard Admin</span>
                    </a>
                </li>
                <li class="nav-item {{ 'active' if current_page == 'condominios' else '' }}">
                    <a href="{{ url_for('admin.listar_tenants') }}" class="nav-link">
                        <i class="fas fa-building nav-link-icon"></i>
                        <span class="nav-link-text">Condomínios</span>
                    </a>
                </li>
                <li class="nav-item {{ 'active' if current_page == 'modulos' else '' }}">
                    <a href="{{ url_for('admin.listar_modulos') }}" class="nav-link">
                        <i class="fas fa-th-large nav-link-icon"></i>
                        <span class="nav-link-text">Módulos</span>
                    </a>
                </li>
                <li class="nav-item {{ 'active' if current_page == 'sistema' else '' }}">
                    <a href="{{ url_for('admin.system_info') }}" class="nav-link">
                        <i class="fas fa-info-circle nav-link-icon"></i>
                        <span class="nav-link-text">Info Sistema</span>
                    </a>
                </li>
            </ul>
        </div>

    {% elif current_module == 'usuarios' %}
        <!-- Navegação do Módulo Usuários -->
        <div class="nav-section">
            <div class="nav-header">
                <i class="fas fa-users-cog nav-icon text-warning"></i>
                <span class="nav-title">Gestão de Usuários</span>
            </div>
            <ul class="nav-menu">
                <li class="nav-item {{ 'active' if current_page == 'listar' else '' }}">
                    <a href="{{ url_for('auth.listar_usuarios') }}" class="nav-link">
                        <i class="fas fa-list nav-link-icon"></i>
                        <span class="nav-link-text">Listar Usuários</span>
                    </a>
                </li>
                <li class="nav-item {{ 'active' if current_page == 'novo' else '' }}">
                    <a href="{{ url_for('auth.cadastrar_usuario') }}" class="nav-link">
                        <i class="fas fa-user-plus nav-link-icon"></i>
                        <span class="nav-link-text">Novo Usuário</span>
                    </a>
                </li>
                <li class="nav-item {{ 'active' if current_page == 'permissoes' else '' }}">
                    <a href="{{ url_for('auth.gerenciar_permissoes') }}" class="nav-link">
                        <i class="fas fa-shield-alt nav-link-icon"></i>
                        <span class="nav-link-text">Permissões</span>
                    </a>
                </li>
            </ul>
        </div>

    {% elif current_module == 'configuracoes' %}
        <!-- Navegação do Módulo Configurações -->
        <div class="nav-section">
            <div class="nav-header">
                <i class="fas fa-cog nav-icon text-secondary"></i>
                <span class="nav-title">Configurações</span>
            </div>
            <ul class="nav-menu">
                <li class="nav-item {{ 'active' if current_page == 'condominio' else '' }}">
                    <a href="{{ url_for('main.configuracoes') }}" class="nav-link">
                        <i class="fas fa-building nav-link-icon"></i>
                        <span class="nav-link-text">Condomínio</span>
                    </a>
                </li>
                <li class="nav-item {{ 'active' if current_page == 'email' else '' }}">
                    <a href="{{ url_for('main.configuracoes_email') }}" class="nav-link">
                        <i class="fas fa-envelope nav-link-icon"></i>
                        <span class="nav-link-text">Email</span>
                    </a>
                </li>
                <li class="nav-item {{ 'active' if current_page == 'sistema' else '' }}">
                    <a href="{{ url_for('main.configuracoes_geral') }}" class="nav-link">
                        <i class="fas fa-sliders-h nav-link-icon"></i>
                        <span class="nav-link-text">Sistema</span>
                    </a>
                </li>
                <li class="nav-item {{ 'active' if current_page == 'relatorios' else '' }}">
                    <a href="{{ url_for('main.relatorios') }}" class="nav-link">
                        <i class="fas fa-chart-bar nav-link-icon"></i>
                        <span class="nav-link-text">Relatórios</span>
                    </a>
                </li>
                <li class="nav-item {{ 'active' if current_page == 'logs' else '' }}">
                    <a href="{{ url_for('main.ver_logs') }}" class="nav-link">
                        <i class="fas fa-file-alt nav-link-icon"></i>
                        <span class="nav-link-text">Logs</span>
                    </a>
                </li>
            </ul>
        </div>

    {% elif current_module == 'financeiro' %}
        <!-- Navegação do Módulo Financeiro -->
        <div class="nav-section">
            <div class="nav-header">
                <i class="fas fa-dollar-sign nav-icon text-success"></i>
                <span class="nav-title">Financeiro</span>
            </div>
            <ul class="nav-menu">
                <li class="nav-item {{ 'active' if current_page == 'dashboard' else '' }}">
                    <a href="{{ url_for('financeiro.dashboard') }}" class="nav-link">
                        <i class="fas fa-chart-pie nav-link-icon"></i>
                        <span class="nav-link-text">Dashboard</span>
                    </a>
                </li>
                <li class="nav-item {{ 'active' if current_page == 'cobranca' else '' }}">
                    <a href="{{ url_for('financeiro.cobranca') }}" class="nav-link">
                        <i class="fas fa-credit-card nav-link-icon"></i>
                        <span class="nav-link-text">Cobrança</span>
                    </a>
                </li>
                <li class="nav-item {{ 'active' if current_page == 'receitas' else '' }}">
                    <a href="{{ url_for('financeiro.receitas') }}" class="nav-link">
                        <i class="fas fa-arrow-up nav-link-icon"></i>
                        <span class="nav-link-text">Receitas</span>
                    </a>
                </li>
                <li class="nav-item {{ 'active' if current_page == 'despesas' else '' }}">
                    <a href="{{ url_for('financeiro.despesas') }}" class="nav-link">
                        <i class="fas fa-arrow-down nav-link-icon"></i>
                        <span class="nav-link-text">Despesas</span>
                    </a>
                </li>
                <li class="nav-item {{ 'active' if current_page == 'fluxo_caixa' else '' }}">
                    <a href="{{ url_for('financeiro.fluxo_caixa') }}" class="nav-link">
                        <i class="fas fa-exchange-alt nav-link-icon"></i>
                        <span class="nav-link-text">Fluxo de Caixa</span>
                    </a>
                </li>
                <li class="nav-item {{ 'active' if current_page == 'relatorios' else '' }}">
                    <a href="{{ url_for('financeiro.relatorios') }}" class="nav-link">
                        <i class="fas fa-file-invoice nav-link-icon"></i>
                        <span class="nav-link-text">Relatórios</span>
                    </a>
                </li>
                <li class="nav-item {{ 'active' if current_page == 'configuracoes' else '' }}">
                    <a href="{{ url_for('financeiro.configuracoes') }}" class="nav-link">
                        <i class="fas fa-cog nav-link-icon"></i>
                        <span class="nav-link-text">Configurações</span>
                    </a>
                </li>
            </ul>
        </div>

    {% elif current_module == 'salva_vidas' %}
        <!-- Navegação específica para salva-vidas -->
        <div class="nav-section">
            <div class="nav-header">
                <i class="fas fa-life-ring nav-icon text-primary"></i>
                <span class="nav-title">Salva-vidas</span>
            </div>
            <ul class="nav-menu">
                <li class="nav-item {{ 'active' if current_page == 'dashboard' else '' }}">
                    <a href="{{ url_for('auth.salva_vidas_dashboard') }}" class="nav-link">
                        <i class="fas fa-tachometer-alt nav-link-icon"></i>
                        <span class="nav-link-text">Dashboard</span>
                    </a>
                </li>
                <li class="nav-item {{ 'active' if current_page == 'scanner' else '' }}">
                    <a href="{{ url_for('main.acesso_qrcode') }}" class="nav-link">
                        <i class="fas fa-qrcode nav-link-icon"></i>
                        <span class="nav-link-text">Scanner QR</span>
                    </a>
                </li>
                <li class="nav-item {{ 'active' if current_page == 'registrar' else '' }}">
                    <a href="{{ url_for('main.registrar_acesso') }}" class="nav-link">
                        <i class="fas fa-clipboard nav-link-icon"></i>
                        <span class="nav-link-text">Registrar Acesso</span>
                    </a>
                </li>
                <li class="nav-item {{ 'active' if current_page == 'controle' else '' }}">
                    <a href="{{ url_for('main.controle_acesso') }}" class="nav-link">
                        <i class="fas fa-eye nav-link-icon"></i>
                        <span class="nav-link-text">Na Piscina</span>
                    </a>
                </li>
            </ul>
        </div>

    {% elif current_module == 'reservas' %}
        <!-- Navegação do Módulo Reserva de Espaços -->
        <div class="nav-section">
            <div class="nav-header">
                <i class="fas fa-calendar-alt nav-icon text-primary"></i>
                <span class="nav-title">Reserva de Espaços</span>
            </div>
            <ul class="nav-menu">
                <li class="nav-item {{ 'active' if current_page == 'espacos' else '' }}">
                    <a href="{{ url_for('reservas.listar_espacos') }}" class="nav-link">
                        <i class="fas fa-building nav-link-icon"></i>
                        <span class="nav-link-text">Espaços Comuns</span>
                    </a>
                </li>
                <li class="nav-item {{ 'active' if current_page == 'solicitar' else '' }}">
                    <a href="{{ url_for('reservas.solicitar_reserva') }}" class="nav-link">
                        <i class="fas fa-plus-circle nav-link-icon"></i>
                        <span class="nav-link-text">Solicitar Reserva</span>
                    </a>
                </li>
                <li class="nav-item {{ 'active' if current_page == 'minhas' else '' }}">
                    <a href="{{ url_for('reservas.minhas_reservas') }}" class="nav-link">
                        <i class="fas fa-list nav-link-icon"></i>
                        <span class="nav-link-text">Minhas Reservas</span>
                    </a>
                </li>
            </ul>
        </div>

    {% elif current_module == 'visitantes' %}
        <!-- Navegação do Módulo Controle de Visitantes -->
        <div class="nav-section">
            <div class="nav-header">
                <i class="fas fa-user-friends nav-icon text-warning"></i>
                <span class="nav-title">Controle de Visitantes</span>
            </div>
            <ul class="nav-menu">
                <li class="nav-item {{ 'active' if current_page == 'listar' else '' }}">
                    <a href="{{ url_for('visitantes.listar_visitantes') }}" class="nav-link">
                        <i class="fas fa-list nav-link-icon"></i>
                        <span class="nav-link-text">Listar Visitantes</span>
                    </a>
                </li>
                <li class="nav-item {{ 'active' if current_page == 'novo' else '' }}">
                    <a href="{{ url_for('visitantes.novo_visitante') }}" class="nav-link">
                        <i class="fas fa-user-plus nav-link-icon"></i>
                        <span class="nav-link-text">Registrar Visitante</span>
                    </a>
                </li>
                <li class="nav-item {{ 'active' if current_page == 'dentro' else '' }}">
                    <a href="{{ url_for('visitantes.visitantes_dentro') }}" class="nav-link">
                        <i class="fas fa-door-open nav-link-icon"></i>
                        <span class="nav-link-text">Visitantes no Condomínio</span>
                    </a>
                </li>
            </ul>
        </div>

    {% elif current_module == 'encomendas' %}
        <!-- Navegação do Módulo Portal de Encomendas -->
        <div class="nav-section">
            <div class="nav-header">
                <i class="fas fa-box nav-icon text-info"></i>
                <span class="nav-title">Portal de Encomendas</span>
            </div>
            <ul class="nav-menu">
                <li class="nav-item {{ 'active' if current_page == 'listar' else '' }}">
                    <a href="{{ url_for('encomendas.listar_encomendas') }}" class="nav-link">
                        <i class="fas fa-list nav-link-icon"></i>
                        <span class="nav-link-text">Listar Encomendas</span>
                    </a>
                </li>
                <li class="nav-item {{ 'active' if current_page == 'novo' else '' }}">
                    <a href="{{ url_for('encomendas.nova_encomenda') }}" class="nav-link">
                        <i class="fas fa-plus-circle nav-link-icon"></i>
                        <span class="nav-link-text">Registrar Encomenda</span>
                    </a>
                </li>
                <li class="nav-item {{ 'active' if current_page == 'minhas' else '' }}">
                    <a href="{{ url_for('encomendas.minhas_encomendas') }}" class="nav-link">
                        <i class="fas fa-box-open nav-link-icon"></i>
                        <span class="nav-link-text">Minhas Encomendas</span>
                    </a>
                </li>
            </ul>
        </div>

    {% elif current_module == 'classificados' %}
        <!-- Navegação do Módulo Classificados/Marketplace -->
        <div class="nav-section">
            <div class="nav-header">
                <i class="fas fa-store nav-icon text-success"></i>
                <span class="nav-title">Marketplace</span>
            </div>
            <ul class="nav-menu">
                <li class="nav-item {{ 'active' if current_page == 'listar' else '' }}">
                    <a href="{{ url_for('classificados.listar_classificados') }}" class="nav-link">
                        <i class="fas fa-list nav-link-icon"></i>
                        <span class="nav-link-text">Ver Classificados</span>
                    </a>
                </li>
                <li class="nav-item {{ 'active' if current_page == 'novo' else '' }}">
                    <a href="{{ url_for('classificados.novo_classificado') }}" class="nav-link">
                        <i class="fas fa-plus-circle nav-link-icon"></i>
                        <span class="nav-link-text">Novo Anúncio</span>
                    </a>
                </li>
                <li class="nav-item {{ 'active' if current_page == 'meus' else '' }}">
                    <a href="{{ url_for('classificados.meus_classificados') }}" class="nav-link">
                        <i class="fas fa-user-circle nav-link-icon"></i>
                        <span class="nav-link-text">Meus Anúncios</span>
                    </a>
                </li>
            </ul>
        </div>
    {% endif %}
    
    <!-- Link para voltar ao dashboard principal -->
    <div class="nav-footer">
        <a href="{{ url_for('main.index') }}" class="nav-link nav-link-footer">
            <i class="fas fa-home nav-link-icon"></i>
            <span class="nav-link-text">Voltar ao Dashboard</span>
        </a>
    </div>
</div>
{% endmacro %}
